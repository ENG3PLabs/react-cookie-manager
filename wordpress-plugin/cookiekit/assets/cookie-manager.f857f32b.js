!function(){"use strict";const e={categories:{Analytics:["63squares.com","abtasty.com","3dstats.com","addfreestats.com","adobedc.net","livefyre.com","mktoresp.com","sitestat.com","google-analytics.com","analytics.google.com","mixpanel.com","segment.io","amplitude.com","hotjar.com","mouseflow.com","crazyegg.com"],Social:["facebook.com","facebook.net","twitter.com","linkedin.com","instagram.com","pinterest.com"],ConsentManagers:["cookiebot.com","onetrust.com","osano.com","privacymanager.io"],Email:["mailchimp.com","sendgrid.net","mailgun.com","constant.contact.com"],Advertising:["doubleclick.net","google-adservices.com","googleadservices.com","googlesyndication.com","adsystem.com","adnxs.com","adroll.com","criteo.com","outbrain.com","taboola.com"]}},t=t=>{if(!t)return Object.values(e.categories).flat();const n=[];return t.analytics||n.push(...e.categories.Analytics),t.marketing||n.push(...e.categories.Advertising,...e.categories.Social),[...new Set(n)]},n=n=>{if(!n)return Object.values(e.categories).flat().map((e=>e.replace(/\.[^.]+$/,"")));const o=t(n);return[...new Set(o.map((e=>e.replace(/\.[^.]+$/,""))))]};let o=null,i=null;const s=e=>{o||(o=XMLHttpRequest.prototype.open),i||(i=window.fetch),XMLHttpRequest.prototype.open=function(t,n){var i,s;const a=n.toString();if((null==(s=null==(i=window.CookieKit.manager)?void 0:i.config.allowedDomains)?void 0:s.length)>0&&window.CookieKit.manager.config.allowedDomains.some((e=>a.includes(e))))return console.log("✅ Request allowed by allowlist:",a),o.apply(this,arguments);if(e.some((e=>a.includes(e))))throw console.log("🚫 Request blocked:",a),new Error("Request blocked by consent settings");return o.apply(this,arguments)},window.fetch=function(t,n){var o,s;const a=t.toString();return(null==(s=null==(o=window.CookieKit.manager)?void 0:o.config.allowedDomains)?void 0:s.length)>0&&window.CookieKit.manager.config.allowedDomains.some((e=>a.includes(e)))?(console.log("✅ Request allowed by allowlist:",a),i.apply(this,arguments)):"string"==typeof a&&e.some((e=>a.includes(e)))?(console.log("🚫 Request blocked:",a),Promise.resolve(new Response(null,{status:403,statusText:"Blocked"}))):i.apply(this,arguments)}};!function(){class e{constructor(e){const t={...e||{}};delete t.translations,this.config={cookieName:"cookie_consent",cookieExpiration:365,style:"banner",theme:"light",cookieKitId:"",categories:{analytics:!0,marketing:!0,preferences:!0},allowedDomains:[],translations:{title:"Would You Like A Cookie? 🍪",message:"We use cookies to enhance your browsing experience and analyze our traffic.",buttonText:"Accept All",declineButtonText:"Decline All",manageButtonText:"Customize",privacyPolicyText:"Privacy Policy",manageTitle:"Cookie Preferences",manageMessage:"Choose which cookies you want to accept.",savePreferences:"Save Preferences",cancel:"Cancel",...(null==e?void 0:e.translations)||{}},disableAutomaticBlocking:!1,blockedDomains:[],...t},this.state=this.loadConsent(),this.observer=null,this.initializeBlocking(),this.config.cookieKitId&&console.log("CookieKit initialized with ID:",this.config.cookieKitId);const n=window.fetch;window.fetch=function(e,t){var o,i;const s=e.toString();return console.log("🔍 Intercepted fetch request to:",s),(null==(i=null==(o=window.CookieKit.manager)?void 0:o.config.allowedDomains)?void 0:i.length)>0&&window.CookieKit.manager.config.allowedDomains.some((e=>s.includes(e)))?(console.log("✅ Request allowed by allowlist:",s),n.apply(this,arguments)):shouldBlockRequest(e)?(console.log("🚫 Request blocked by consent settings"),Promise.resolve(new Response(null,{status:403,statusText:"Blocked by consent settings"}))):n.apply(this,arguments)};const o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(e,t){var n,i;if(console.log("🔍 Intercepted XHR request to:",t),(null==(i=null==(n=window.CookieKit.manager)?void 0:n.config.allowedDomains)?void 0:i.length)>0&&window.CookieKit.manager.config.allowedDomains.some((e=>t.includes(e))))return console.log("✅ Request allowed by allowlist:",t),o.apply(this,arguments);if(shouldBlockRequest(t))throw console.log("🚫 Request blocked by consent settings"),new Error("Request blocked by consent settings");return o.apply(this,arguments)}}initializeBlocking(){if(this.config.disableAutomaticBlocking)return;const e=this.state?{analytics:this.state.analytics,marketing:this.state.marketing,preferences:this.state.preferences}:null,a=[...t(e),...this.config.blockedDomains],l=[...n(e),...this.config.blockedDomains];a.length>0?(s(a),this.observer=(e=>{document.querySelectorAll("script").forEach((t=>{t.src&&e.some((e=>t.src.includes(e)))&&t.remove()}));const t=new MutationObserver((t=>{t.forEach((t=>{t.addedNodes.forEach((t=>{if(t instanceof HTMLElement&&"SCRIPT"===t.tagName){const n=t.getAttribute("src");n&&e.some((e=>n.includes(e)))&&t.remove()}}))}))}));return t.observe(document.documentElement,{childList:!0,subtree:!0}),t})(l)):(o&&(XMLHttpRequest.prototype.open=o),i&&(window.fetch=i),this.observer&&(this.observer.disconnect(),this.observer=null))}injectStyles(e){const t=document.createElement("style");t.textContent=e,document.head.appendChild(t)}loadConsent(){const e=this.getCookie(this.config.cookieName);return e?JSON.parse(e):null}setCookie(e,t,n){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);const i="; expires="+o.toUTCString();document.cookie=e+"="+t+i+"; path=/"}getCookie(e){const t=e+"=",n=document.cookie.split(";");for(let o=0;o<n.length;o++){let e=n[o];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null}saveConsent(e){if(console.log("🍪 Saving consent with categories:",e),this.state=e,this.setCookie(this.config.cookieName,JSON.stringify(e),this.config.cookieExpiration),console.log("📝 Cookie saved, now removing UI elements"),this.initializeBlocking(),this.wrapper){console.log("🗑️ Removing banner wrapper");const e=this.wrapper.querySelector('div[class*="fixed"]');e?(e.classList.add("translate-y-full"),setTimeout((()=>{this.wrapper.remove()}),500)):this.wrapper.remove()}this.modalWrapper&&(console.log("🗑️ Removing modal wrapper"),this.modalWrapper.classList.add("opacity-0"),setTimeout((()=>{this.modalWrapper.remove()}),300)),this.applyConsent()}applyConsent(){var e,t;console.log("🔄 Applying consent state:",this.state),(null==(e=this.state)?void 0:e.analytics)&&(console.log("📊 Enabling analytics scripts"),document.querySelectorAll('script[data-cookiekit="analytics"]').forEach((e=>e.setAttribute("type","text/javascript")))),(null==(t=this.state)?void 0:t.marketing)&&(console.log("🎯 Enabling marketing scripts"),document.querySelectorAll('script[data-cookiekit="marketing"]').forEach((e=>e.setAttribute("type","text/javascript")))),console.log("📢 Dispatching consent updated event"),window.dispatchEvent(new CustomEvent("cookiekit:consent-updated",{detail:this.state})),console.log("✅ Consent application complete")}createBanner(){const e=document.createElement("div");e.className="cookie-manager";const t=document.createElement("div"),n="light"===this.config.theme,o={banner:"md:bottom-4 md:left-1/2 md:-translate-x-1/2 md:translate-y-0 md:w-full md:max-w-2xl",modal:"md:inset-0 md:flex md:items-center md:justify-center md:p-4 md:translate-y-0",popup:"md:bottom-4 md:left-4 md:translate-y-0 md:w-80"}[this.config.style];t.className=`fixed z-[9999] font-sans transition-all duration-500 ease-[cubic-bezier(0.32,0.72,0,1)] bottom-0 left-0 w-full translate-y-full animate-in duration-500 ${o}`,setTimeout((()=>{t.classList.remove("translate-y-full")}),100);const i=`\n        rounded-t-lg md:rounded-lg backdrop-blur-sm backdrop-saturate-150 \n        ${n?"bg-white/95 border border-black/10 shadow-lg":"bg-black/95 ring-1 ring-white/10"}\n      `,s={banner:"p-4 md:hover:-translate-y-2 md:transition-transform md:duration-500",modal:"p-4 md:w-full md:max-w-lg md:p-6",popup:"p-4 md:hover:-translate-y-2 md:transition-transform md:duration-500"}[this.config.style];t.innerHTML=`\n        <div class="${i} ${s}">\n          <div class="flex flex-col gap-4">\n            <div>\n              <h2 class="text-base md:text-sm font-semibold mb-2 ${n?"text-gray-900":"text-white"}">${this.config.translations.title}</h2>\n              <p class="text-sm md:text-xs font-medium ${n?"text-gray-700":"text-gray-200"}">${this.config.translations.message}</p>\n            </div>\n            ${"popup"===this.config.style?`\n                <div class="flex flex-col gap-3 w-full">\n                  <button class="accept-all w-full md:hidden px-4 py-2.5 text-sm font-medium rounded-md bg-blue-500 hover:bg-blue-600 text-white transition-all duration-200 hover:scale-105">\n                    ${this.config.translations.buttonText}\n                  </button>\n                  <button class="decline-all w-full md:hidden px-4 py-2.5 text-sm font-medium rounded-md ${n?"bg-gray-200 hover:bg-gray-300 text-gray-800":"bg-gray-800 hover:bg-gray-700 text-gray-300"} transition-all duration-200 hover:scale-105">\n                    ${this.config.translations.declineButtonText}\n                  </button>\n                  <div class="hidden md:flex items-center gap-3">\n                    <button class="decline-all flex-1 px-3 py-1.5 text-xs font-medium rounded-md ${n?"bg-gray-200 hover:bg-gray-300 text-gray-800":"bg-gray-800 hover:bg-gray-700 text-gray-300"} transition-all duration-200 hover:scale-105">\n                      ${this.config.translations.declineButtonText}\n                    </button>\n                    <button class="accept-all flex-1 px-3 py-1.5 text-xs font-medium rounded-md bg-blue-500 hover:bg-blue-600 text-white transition-all duration-200 hover:scale-105">\n                      ${this.config.translations.buttonText}\n                    </button>\n                  </div>\n                  <button class="customize w-full px-4 py-2.5 md:px-3 md:py-1.5 text-sm md:text-xs font-medium rounded-md border border-blue-500 text-blue-500 bg-transparent hover:text-blue-600 hover:border-blue-600 transition-all duration-200 hover:scale-105">\n                    ${this.config.translations.manageButtonText}\n                  </button>\n                </div>\n                `:`\n                <div class="flex flex-col md:flex-row md:items-center md:justify-between w-full gap-3">\n                  <div class="flex flex-col md:flex-row md:items-center gap-3">\n                    <button class="customize w-full md:w-auto px-4 py-2.5 md:px-3 md:py-1.5 text-sm md:text-xs font-medium rounded-md border border-blue-500 text-blue-500 bg-transparent hover:text-blue-600 hover:border-blue-600 transition-all duration-200 hover:scale-105">\n                      ${this.config.translations.manageButtonText}\n                    </button>\n                    <button class="decline-all w-full md:w-auto px-4 py-2.5 md:px-3 md:py-1.5 text-sm md:text-xs font-medium rounded-md ${n?"bg-gray-200 hover:bg-gray-300 text-gray-800":"bg-gray-800 hover:bg-gray-700 text-gray-300"} transition-all duration-200 hover:scale-105">\n                      ${this.config.translations.declineButtonText}\n                    </button>\n                    <button class="accept-all w-full md:w-auto px-4 py-2.5 md:px-3 md:py-1.5 text-sm md:text-xs font-medium rounded-md bg-blue-500 hover:bg-blue-600 text-white transition-all duration-200 hover:scale-105">\n                      ${this.config.translations.buttonText}\n                    </button>\n                  </div>\n                </div>\n                `}\n          </div>\n        </div>\n      `,t.querySelector(".accept-all").addEventListener("click",(()=>{this.saveConsent(this.config.categories)})),t.querySelector(".decline-all").addEventListener("click",(()=>{this.saveConsent({analytics:!1,marketing:!1,preferences:!1})})),t.querySelector(".customize").addEventListener("click",(()=>{this.showCustomizeModal()})),e.appendChild(t),document.body.appendChild(e),this.banner=t,this.wrapper=e}createCustomizeModal(){const e=document.createElement("div");e.className="cookie-manager transition-opacity duration-300";const t="light"===this.config.theme,n=document.createElement("div");n.className="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-lg z-[10000] hidden",n.innerHTML=`\n        <div class="rounded-xl p-6 ${t?"bg-white/95 ring-2 ring-gray-200":"bg-black/95 ring-1 ring-white/10"}">\n          <div class="flex flex-col gap-6">\n            <div>\n              <h3 class="text-sm font-semibold mb-2 ${t?"text-gray-900":"text-white"}">${this.config.translations.manageTitle}</h3>\n              <p class="text-xs ${t?"text-gray-700":"text-gray-200"}">${this.config.translations.manageMessage}</p>\n            </div>\n\n            <div class="flex flex-col gap-4">\n              \x3c!-- Essential Cookies --\x3e\n              <div class="flex items-start justify-between">\n                <div>\n                  <h4 class="text-xs font-medium text-left ${t?"text-gray-900":"text-white"}">Essential</h4>\n                  <p class="text-xs text-left ${t?"text-gray-600":"text-gray-400"}">Required for the website to function properly.</p>\n                  <p class="text-xs mt-1 text-left text-gray-500">Always enabled</p>\n                </div>\n                <div class="px-3 py-1 text-xs text-center font-medium rounded-full ${t?"bg-gray-200 text-gray-600":"bg-gray-800 text-gray-300"}">\n                  Required\n                </div>\n              </div>\n\n              \x3c!-- Analytics Cookies --\x3e\n              <div class="flex items-start justify-between">\n                <div>\n                  <h4 class="text-xs font-medium text-left ${t?"text-gray-900":"text-white"}">Analytics</h4>\n                  <p class="text-xs text-left ${t?"text-gray-600":"text-gray-400"}">Help us understand how visitors interact with our website.</p>\n                </div>\n                <label class="relative inline-flex items-center cursor-pointer">\n                  <input type="checkbox" name="analytics" ${this.config.categories.analytics?"checked":""} class="sr-only peer">\n                  <div class="w-11 h-6 rounded-full peer peer-focus:ring-2 peer-focus:ring-blue-500 \n                    ${t?"bg-gray-200 peer-checked:bg-blue-500":"bg-gray-700 peer-checked:bg-blue-500"} \n                    peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 \n                    after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 \n                    after:transition-all">\n                  </div>\n                </label>\n              </div>\n\n              \x3c!-- Marketing Cookies --\x3e\n              <div class="flex items-start justify-between">\n                <div>\n                  <h4 class="text-xs font-medium text-left ${t?"text-gray-900":"text-white"}">Marketing</h4>\n                  <p class="text-xs text-left ${t?"text-gray-600":"text-gray-400"}">Allow us to personalize your experience and send you relevant content.</p>\n                </div>\n                <label class="relative inline-flex items-center cursor-pointer">\n                  <input type="checkbox" name="marketing" ${this.config.categories.marketing?"checked":""} class="sr-only peer">\n                  <div class="w-11 h-6 rounded-full peer peer-focus:ring-2 peer-focus:ring-blue-500 \n                    ${t?"bg-gray-200 peer-checked:bg-blue-500":"bg-gray-700 peer-checked:bg-blue-500"} \n                    peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 \n                    after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 \n                    after:transition-all">\n                  </div>\n                </label>\n              </div>\n\n              \x3c!-- Preferences Cookies --\x3e\n              <div class="flex items-start justify-between">\n                <div>\n                  <h4 class="text-xs font-medium text-left ${t?"text-gray-900":"text-white"}">Preferences</h4>\n                  <p class="text-xs text-left ${t?"text-gray-600":"text-gray-400"}">Remember your settings and provide enhanced functionality.</p>\n                </div>\n                <label class="relative inline-flex items-center cursor-pointer">\n                  <input type="checkbox" name="preferences" ${this.config.categories.preferences?"checked":""} class="sr-only peer">\n                  <div class="w-11 h-6 rounded-full peer peer-focus:ring-2 peer-focus:ring-blue-500 \n                    ${t?"bg-gray-200 peer-checked:bg-blue-500":"bg-gray-700 peer-checked:bg-blue-500"} \n                    peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 \n                    after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 \n                    after:transition-all">\n                  </div>\n                </label>\n              </div>\n            </div>\n\n            <div class="flex justify-end gap-3">\n              <button class="cancel px-3 py-1.5 text-xs font-medium rounded-md border border-gray-500 text-gray-500 bg-transparent hover:text-gray-600 hover:border-gray-600 transition-all duration-200 hover:scale-105">\n                ${this.config.translations.cancel}\n              </button>\n              <button class="save-preferences px-3 py-1.5 text-xs font-medium rounded-md bg-blue-500 hover:bg-blue-600 text-white transition-all duration-200 hover:scale-105">\n                ${this.config.translations.savePreferences}\n              </button>\n            </div>\n          </div>\n        </div>\n      `;const o=document.createElement("div");o.className=`fixed inset-0 ${"modal"===this.config.style?"bg-black/20 backdrop-blur-[2px]":"bg-black/40"} z-[9999] hidden transition-all duration-300`,n.querySelector(".save-preferences").addEventListener("click",(()=>{console.log("💾 Save preferences clicked");const e={analytics:n.querySelector('input[name="analytics"]').checked,marketing:n.querySelector('input[name="marketing"]').checked,preferences:n.querySelector('input[name="preferences"]').checked};console.log("📋 Collected categories:",e),this.saveConsent(e)})),n.querySelector(".cancel").addEventListener("click",(()=>{this.hideCustomizeModal()})),this.state?(n.querySelector('input[name="analytics"]').checked=this.state.analytics,n.querySelector('input[name="marketing"]').checked=this.state.marketing,n.querySelector('input[name="preferences"]').checked=this.state.preferences):(n.querySelector('input[name="analytics"]').checked=this.config.categories.analytics,n.querySelector('input[name="marketing"]').checked=this.config.categories.marketing,n.querySelector('input[name="preferences"]').checked=this.config.categories.preferences),e.appendChild(o),e.appendChild(n),document.body.appendChild(e),this.modal=n,this.overlay=o,this.modalWrapper=e}showCustomizeModal(){console.log("🔍 Showing customize modal"),this.modal.classList.remove("hidden"),this.overlay.classList.remove("hidden")}hideCustomizeModal(){console.log("🔒 Hiding customize modal"),this.modal&&(this.modal.classList.add("hidden"),this.overlay.classList.add("hidden"))}hideBanner(){console.log("🔒 Hiding banner"),this.banner.classList.add("hidden")}init(){console.log("🚀 Initializing CookieKit"),console.log("Current state:",this.state),this.state?console.log("✅ Existing consent found:",this.state):(console.log("📝 No existing consent found, creating UI elements"),this.createBanner(),this.createCustomizeModal())}shouldBlockRequest(e){var t;const n=e.toString();if((null==(t=this.config.allowedDomains)?void 0:t.length)>0&&this.config.allowedDomains.some((e=>n.includes(e))))return console.log("✅ Request allowed by allowlist:",n),!1;const o=this.state;return o?!o.analytics&&n.includes("google-analytics")?(console.log("🚫 Blocking analytics request:",n),!0):!(o.marketing||!n.includes("twitter")&&!n.includes("doubleclick"))&&(console.log("🚫 Blocking marketing request:",n),!0):(console.log("🚫 No consent given, blocking request:",n),!0)}}window.CookieKit={manager:null,init:t=>{console.log("🌟 CookieKit.init called with config:",t),window.CookieKit.manager=new e(t),window.CookieKit.manager.init(),console.log("🎉 CookieKit initialization complete")},showBanner:()=>{console.log("🎯 Show banner requested"),window.CookieKit.manager&&(window.CookieKit.manager.createBanner(),window.CookieKit.manager.createCustomizeModal())},showCustomizeModal:()=>{console.log("🎯 Show customize modal requested"),window.CookieKit.manager&&window.CookieKit.manager.showCustomizeModal()},resetConsent:()=>{console.log("🔄 Reset consent requested"),document.cookie="cookie_consent=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",location.reload()}}}()}();
//# sourceMappingURL=cookie-manager.js.map
